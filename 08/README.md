# 今週のテーマ
ライブラリを拡張可能にする

# 方針
思ったことを率直に書いておくくらい。
実際に試したりするのは後回しにして、最後まで読み切る
個人的に思ったことを書いていく

# 8.1 Ruby が提供する拡張性関連の機能
特異クラスにメソッドを定義するパターン
ある特定のインスタンス変数にだけメソッドを追加可能。Rubyならではの機能すごい。
インスタンス変数に対してextendを使えばインスタンスの特異クラスに対してメソッド定義したことになるから、インスタンスメソッドみたいに呼べる。

# 8.2 プラグインシステムを設計する
プラグインを設計する場合はincludeかprependどちらを使うかを考える

> プリペンドベースのシステムだと、利用者がクラスに直接定義したメソッドが効果を発揮しないので、利用者を混乱させてしまいかねません。

よく分からなかった。

8.2.1 基本的なプラグインシステムを設計する部分の実装を実際に写経して動かしてみた。

https://github.com/TomoProg/kensan-ruby/blob/main/08/app/main.rb

クラス定義には何もメソッドを書かず、プラグインモジュールでメソッドをインジェクションする形。

Coreライブラリにはデフォルトの振る舞いを定義しておき、変更したい場合は自分でプラグインモジュールを作り、それを読み込ませる。

これならCoreモジュールの内容をベースクラスとして書いておいて、使う側が変更したければ継承してオーバーライドすれば同じことできるのでは？

どっちの方がいいのだろうか？

8.2.2以降はまだ読めていない