# 今週のテーマ
自分のライブラリを設計する

# 方針
思ったことを率直に書いておくくらい。

実際に試したりするのは後回しにして、最後まで読み切る

# 知らなかった部分

## 7.1 ユーザーエクスペリエンスを重視する

### ライブラリの名前付けが一番重要

名前付けがよくないとライブラリを探し出してもらうことすら難しい。（EventCalendarはそうかもなー）

あまりにも一般的すぎる名前は避けるべき。検索エンジンに引っかからない

### ユーザーが望むものを提供する

使い方のサンプルコードを冒頭に書くべき

ライブラリ独自の公式ウェブサイトがあるなら、使い方のサンプルコードはインデックスページに載せる

### 「ユーザーが実現したいけれども自力で実装するのはとても難しそうなこと」をとても簡単に達成できるのが最高のライブラリ

### 個人的な感想

確かにgemを選ぶとき、サンプルコードが書いてあるかとか、みた感じ使いやすそうかを見て選んでいるように思う。

使われるライブラリを作るにはこういう観点を持ちながら作るというのが大事だと感じた。

また、メソッド一つ作るにしても、呼び出し方がシンプルで使い手にとって呼び出しを見ただけで何をやっているかがわかるような設計であることは重要だと考えている。

こういう考え方はライブラリの設計においても重要な考え方であることを学べた。


## 7.2 ライブラリの適切な規模を見極める

### 小さいライブラリのメリット
- メンテナンスが容易
- 新しいユーザーが理解するのも容易です。
- 小さなライブラリに関連する要望は変わらないので、何年でも問題なく使える

### 小さいライブラリのデメリット

- 柔軟性が低い（様々な機能要件に対応できない）

大きいライブラリのメリット、デメリットはこれの逆

### ライブラリの規模の方針としてはまずは必要なものだけを実装する
最悪なのは、「ライブラリに不必要な複雑性が盛り込まれる結果になり、それら複雑性の多くを取り除くのに リファクタリングが必要になりそう」というシナリオ

### 個人的な感想
まずは必要なものだけを実装する。プログラミングでYAGNIという言葉があるが、まさにそういうことかと思う。

不必要な複雑性を盛り込まない。逆にいえばそれほど複雑でなく、そのライブラリにふさわしい機能であれば実装するのもありということだろうか

それでも最低限を実装してそこから成長させていく方が使われない機能を作るよりはいいかと思う。

## 7.3 メソッド設計の複雑性のトレードオフ

### 個人的な感想
いまいちトレードオフの観点がよくわからなかった

簡単になればなるほどメンテナンスはしやすいが、ユーザとしては使いにくかったり、逆に複雑になればなるほどメンテナンスしにくいが、使い手にとっては使いやすい

ここがトレードオフなのか？

ただ、筆者としてはそれも結局好みの問題になってくると言ってるし、そう言いたいわけではないのかも？

まとめる方針としては意味、インターフェースが同じになるのであればまとめても問題は少ない。

まとめすぎて、戻り値が単体で返ってきたり、Arrayで返ってくるといったインターフェースに変化があると、ユーザも使いにくそう。

